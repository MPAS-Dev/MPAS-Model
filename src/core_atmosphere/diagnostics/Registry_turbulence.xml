<!-- *************************************************************** -->
<!-- Diagnostics for MPAS-Turbulence calculations                    -->
<!--                                                                 -->
<!-- Created by John Wong, November / 2017                           -->
<!-- Copyright (c) 2017 The Weather Company. All rights reserved.    -->
<!-- *************************************************************** -->

<var_struct name="diag" time_levs="1">
    
    <var name="temperature" type="real" dimensions="nVertLevels nCells Time" units="K"/>
    
    <var name="deformation" type="real" dimensions="nVertLevels nCells Time" units="s^{-1}"
         description="Horizontal deformation"/>
         
    <var name="windshear" type="real" dimensions="nVertLevels nCells Time" units="s^{-1}"
         description="Vertical wind shear from reconstructed values in height coordinate at u levels"/>
         
    <var name="windshear_tw" type="real" dimensions="nVertLevels nCells Time" units="s^{-1}"
    description="Vertical wind shear approximated thermal wind relation"/>
         
    <var name="richno" type="real" dimensions="nVertLevels nCells Time" units="-"
        description="Richardson number"/>
        
    <var name="richno_tw" type="real" dimensions="nVertLevels nCells Time" units="-"
        description="Richardson number approximated using thermal wind relation"/>
        
    <var name="invrichno" type="real" dimensions="nVertLevels nCells Time" units="-"
        description="Inversed Richardson number"/>
        
    <var name="invrichno_tw" type="real" dimensions="nVertLevels nCells Time" units="-"
        description="Inversed Richardson number approximated using thermal wind relation"/>
    
    <var name="mwtds" type="real" dimensions="nCells Time" units="-"
        description="Sharman and Pearson near-surface factor for mountain wave turbulence diagnostics."/>
        
    <var name="gradTmp" type="real" dimensions="nVertLevels nCells Time" units="K m^{-1}"
        description="Horizontal temperature gradient"/>
        
    <var name="iawind" type="real" dimensions="nVertLevels nCells Time" units="m s^{-2}"
        description="Inertial advective wind"/>
    
    <var name="frontogenesis" type ="real" dimensions="nVertLevels nCells Time" units="K m s{-1}"
        description="Frontogenesis function as potential temperature gradient tendency"/>
        
    <var name="ellrod2" type="real" dimensions="nVertLevels nCells Time" units="s^{-2}"
        description="Ellrod-Knapp turbulence index"/>
        
    <var name="ellrod3" type="real" dimensions="nVertLevels nCells Time" units="s^{-2}"
        description="Ellrod-Knox turbulence index"/>
        
    <var name="ngm1" type="real" dimensions="nVertLevels nCells Time" units="s^{-2}"
        description="NGM1 turbulence index"/>
    
</var_struct>

<!-- Scratch space needed for temperature gradient and thermal wind calculations-->
<var_struct name="turbDiagnosticsScratch" time_levs="1">
    <var name="gradTmp_n" persistence="scratch" type="real" dimensions="nVertLevels nEdges Time" />
    <var name="gradTmpXYZ" persistence="scratch" type="real" dimensions="R3 nVertLevels nCells Time" />
    <var name="gradTmpZonal"  persistence="scratch"type="real" dimensions="nVertLevels nCells Time" />
    <var name="gradTmpMeridional" persistence="scratch" type="real" dimensions="nVertLevels nCells Time" />
    <var name="gradTmpSq" persistence="scratch" type="real" dimensions="nVertLevels nCells Time" />
    <var name="bruntvaisalaSq" persistence="scratch" type="real" dimensions="nVertLevels nCells Time" />
    <var name="invHeight" persistence="scratch" type="real" dimensions="nVertLevels nCells Time" />
</var_struct>

